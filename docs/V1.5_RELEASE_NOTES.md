# üìä Scanner Binance - Release Notes V1.5

## Version 1.5 - Moyennes Mobiles Multi-Timeframe

**Date de release** : 17 janvier 2026  
**Status** : ‚úÖ **COMPL√àTE ET VALID√âE**

---

## üéØ Objectifs atteints

Cette version ajoute l'analyse des **moyennes mobiles** (SMA et EMA) sur **3 timeframes** (Hebdo, Daily, H4) pour d√©tecter les tendances haussi√®res et filtrer les opportunit√©s de trading de mani√®re plus pr√©cise.

### Nouvelles fonctionnalit√©s

#### 1. Calcul des Moyennes Mobiles (indicators.py)

- ‚úÖ **SMA (Simple Moving Average)** : Moyenne arithm√©tique sur N p√©riodes
- ‚úÖ **EMA (Exponential Moving Average)** : Moyenne exponentielle avec poids d√©croissant
- ‚úÖ P√©riodes configurables : 20 et 50 (par d√©faut)
- ‚úÖ Gestion robuste des cas limites (donn√©es insuffisantes, NaN)

#### 2. D√©tection de Tendance Multi-Timeframe

- ‚úÖ **Logique de d√©tection** :
  - Haussi√®re si : (Prix > SMA20 ET Prix > SMA50) OU (EMA20 > EMA50)
  - Baissi√®re sinon
- ‚úÖ **Analyse sur 3 timeframes** :
  - **1w (Hebdomadaire)** : Tendance long terme
  - **1d (Daily)** : Tendance moyen terme  
  - **4h** : Tendance court terme
- ‚úÖ **Trend Score (0-3)** : Nombre de timeframes haussiers

#### 3. Filtre Combin√© RSI + Tendance

- ‚úÖ Filtrage strict : `RSI < threshold` **ET** `trend_score >= MIN_TREND_SCORE`
- ‚úÖ √âvite les faux signaux (RSI bas sans tendance haussi√®re)
- ‚úÖ Identifie les vraies opportunit√©s (RSI bas + rebond probable)

#### 4. Output Enrichi

**Console** :

- Affichage du trend_score pour chaque paire
- Flags visuels pour chaque timeframe (‚úì haussier / ‚úó baissier)
- Tableau √©largi avec colonnes suppl√©mentaires

**CSV** :

- 12 colonnes de moyennes mobiles :
  - `sma20_1w`, `sma50_1w`, `ema20_1w`, `ema50_1w`
  - `sma20_1d`, `sma50_1d`, `ema20_1d`, `ema50_1d`
  - `sma20_4h`, `sma50_4h`, `ema20_4h`, `ema50_4h`
- 3 colonnes de flags de tendance :
  - `trend_1w` (bool)
  - `trend_1d` (bool)
  - `trend_4h` (bool)
- 1 colonne de score global :
  - `trend_score` (0-3)

---

## ‚öôÔ∏è Configuration (config.py)

### Nouveaux param√®tres V1.5

```python
# MOYENNES MOBILES (V1.5)
ENABLE_MA = True                      # Activer/d√©sactiver l'analyse MA
MA_PERIODS = [20, 50]                 # P√©riodes √† calculer
MA_TIMEFRAMES = ["1w", "1d", "4h"]   # Timeframes √† analyser
MIN_TREND_SCORE = 2                   # Score minimum requis (0-3)
MIN_MA_BARS = 60                      # Nombre de bougies pour SMA50
```

### Param√®tres optimaux recommand√©s

**Pour d√©tecter les opportunit√©s de qualit√©** :

- `RSI_THRESHOLD = 35` : Zone de survente
- `MIN_TREND_SCORE = 2` : Au moins 2 timeframes haussiers sur 3

**Pour scanner plus largement** :

- `RSI_THRESHOLD = 40-45` : Zone de faiblesse
- `MIN_TREND_SCORE = 1` : Au moins 1 timeframe haussier

**Pour √™tre tr√®s s√©lectif** :

- `RSI_THRESHOLD = 30` : Survente forte
- `MIN_TREND_SCORE = 3` : Les 3 timeframes doivent √™tre haussiers

---

## üìä Exemple de R√©sultat

```md
========================================================================================================================
R√âSULTATS DU SCAN - RSI < 35
TENDANCE HAUSSI√àRE ‚â• 2/3 timeframes
========================================================================================================================
 Symbole   RSI           Prix             Date TF  Trend 1W 1D 4H
XRP/USDC 32.15     2.05400000 2026-01-17 16:00 4h      2  ‚úó  ‚úì  ‚úì
BTC/USDC 34.82 95000.00000000 2026-01-17 16:00 4h      3  ‚úì  ‚úì  ‚úì
========================================================================================================================
Total: 2 paire(s)
========================================================================================================================
```

**Interpr√©tation** :

- **XRP/USDC** : RSI faible (32.15) + tendance haussi√®re sur Daily et H4 ‚Üí Opportunit√© potentielle
- **BTC/USDC** : RSI faible (34.82) + tendance haussi√®re sur TOUS les timeframes ‚Üí Opportunit√© forte

---

## üß™ Tests

### Tests unitaires (test_modules.py)

```txt
‚úì PASS - Indicators
  ‚úì RSI calcul√© correctement
  ‚úì SMA coh√©rente (SMA20 > SMA50 sur donn√©es croissantes)
  ‚úì EMA coh√©rente (EMA20 > EMA50 sur donn√©es croissantes)
  ‚úì D√©tection de tendance correcte (haussi√®re sur donn√©es croissantes)
```

### Test d'int√©gration

```bash
python main.py
# Configuration : RSI < 60, MIN_TREND_SCORE = 1, MAX_PAIRS = 5

R√©sultat : 4/5 paires trouv√©es
- XRP/USDC : RSI=48.44 | Trend=1/3
- BTC/USDC : RSI=55.07 | Trend=2/3
- XLM/USDC : RSI=55.98 | Trend=2/3
- ETH/USDC : RSI=58.53 | Trend=3/3

CSV export√© avec succ√®s : 24 colonnes (base + 12 MA + 3 flags + trend_score + m√©tadonn√©es)
```

---

## üìà Performance

### Temps d'ex√©cution (estim√©)

- **5 paires** : ~5 secondes
- **50 paires** : ~50 secondes (rate limit respect√©)
- **500 paires** : ~8-10 minutes
- **Toutes les paires USDC (~600)** : ~10-15 minutes

### Optimisations possibles (futures versions)

- Cache des donn√©es OHLCV
- Parall√©lisation des appels API (avec pr√©caution sur les rate limits)
- Pr√©-filtrage par volume pour r√©duire le nombre de paires scann√©es

---

## üîÑ Migration depuis V1

### Changements **non breaking**

- Tous les anciens modules fonctionnent sans modification
- L'analyse MA peut √™tre d√©sactiv√©e avec `ENABLE_MA = False`
- Si d√©sactiv√©e, le scanner fonctionne exactement comme en V1

### Modules modifi√©s

1. **config.py** : 5 nouveaux param√®tres ajout√©s
2. **indicators.py** : 3 nouvelles fonctions (calculate_sma, calculate_ema, detect_trend)
3. **scanner.py** :
   - Nouvelle fonction `analyze_pair_ma()`
   - Logique de filtrage enrichie dans `scan_market()`
4. **output.py** :
   - Affichage console √©largi avec trend_score et flags
   - Export CSV avec 12 colonnes MA suppl√©mentaires
5. **test_modules.py** : Tests enrichis pour SMA/EMA/detect_trend

---

## ‚úÖ Checklist de validation V1.5

- [x] calculate_sma() impl√©ment√© et test√©
- [x] calculate_ema() impl√©ment√© et test√©
- [x] detect_trend() impl√©ment√© et test√©
- [x] Param√®tres MA ajout√©s √† config.py
- [x] Multi-timeframe (1w, 1d, 4h) fonctionnel
- [x] Trend_score calcul√© correctement
- [x] Filtre combin√© RSI + tendance op√©rationnel
- [x] Affichage console enrichi
- [x] Export CSV avec toutes les colonnes MA
- [x] Tests unitaires passent (6/6)
- [x] Test d'int√©gration valid√©
- [x] Performance acceptable (< 15 min pour toutes les paires)
- [x] Documentation mise √† jour

---

## üöÄ Prochaines √©tapes (V2.0 potentielle)

**Non planifi√© actuellement** - Le projet reste un scanner uniquement.

√âvolutions possibles **si demand√©es** :

- Volume analysis (filtrer par volume 24h minimum)
- Bollinger Bands ou autres indicateurs
- Alertes (Discord, Telegram, email)
- Interface web/dashboard
- Historique des scans

---

## üìù Notes importantes

### ‚ö†Ô∏è Limitations connues

- Le scanner peut √™tre lent sur un grand nombre de paires (rate limits Binance)
- N√©cessite une connexion internet stable
- Les donn√©es de certaines paires peuvent √™tre incompl√®tes

### üîí R√®gles strictes maintenues

- **Aucun trading** : Ce projet reste un scanner uniquement
- **Lecture seule** : Aucune modification de compte
- **Donn√©es publiques uniquement** : Pas de cl√©s API n√©cessaires

---

## üë• Contribution

Pour toute suggestion ou am√©lioration :

1. Respecter le cahier des charges (scanner uniquement)
2. Suivre la structure modulaire existante
3. Ajouter des tests pour toute nouvelle fonctionnalit√©
4. Documenter les changements

---

**Version** : 1.5  
**Status** : Production Ready ‚úÖ  
**Derni√®re mise √† jour** : 17 janvier 2026
